<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sillage - CatÃ¡logo Interactivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .glass-header { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); }
        .card-shadow { box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.08); }
        .selected-card { border-color: #78350f !important; background-color: #fffaf0; }
        .details-content { max-height: 0; overflow: hidden; transition: all 0.4s ease; opacity: 0; }
        .details-active { max-height: 500px; opacity: 1; padding-top: 1rem; padding-bottom: 1rem; }
        .size-btn { transition: all 0.2s ease; }
        .size-btn.active { background-color: #78350f; color: white; border-color: #78350f; }
        .btn-wa { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); }
    </style>
</head>
<body class="bg-[#FBFBFA] text-stone-900 pb-40">

    <header class="glass-header border-b border-stone-100 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-6 py-6 text-center">
            <div class="flex justify-center items-center gap-2 mb-1">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#78350f" stroke-width="2"><path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"></path></svg>
                <h1 class="text-3xl font-serif font-bold tracking-tighter uppercase text-stone-800">SILLAGE</h1>
            </div>
            <p class="text-[9px] uppercase tracking-[0.3em] text-amber-800 font-bold mb-5 italic">Paraguay Â· InspiraciÃ³n Premium</p>
            
            <div class="flex gap-2 overflow-x-auto no-scrollbar justify-center">
                <button onclick="filter('Todos')" id="filter-Todos" class="cat-btn px-6 py-2 rounded-full text-[10px] font-bold bg-stone-900 text-white shadow-md transition-all">TODOS</button>
                <button onclick="filter('Damas')" id="filter-Damas" class="cat-btn px-6 py-2 rounded-full text-[10px] font-bold bg-white text-stone-400 border border-stone-200 transition-all">DAMAS</button>
                <button onclick="filter('Caballeros')" id="filter-Caballeros" class="cat-btn px-6 py-2 rounded-full text-[10px] font-bold bg-white text-stone-400 border border-stone-200 transition-all">CABALLEROS</button>
            </div>
        </div>
    </header>

    <main id="catalog" class="max-w-4xl mx-auto px-4 py-8 grid grid-cols-1 gap-8">
        <!-- Renderizado automÃ¡tico -->
    </main>

    <div id="cart-bar" class="fixed bottom-0 left-0 right-0 bg-white border-t border-stone-100 p-6 shadow-[0_-15px_40px_rgba(0,0,0,0.15)] transform translate-y-full transition-all duration-500 z-[100] rounded-t-[2.5rem]">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex flex-col">
                <span id="cart-count" class="text-[10px] font-black text-amber-800 uppercase tracking-[0.2em] mb-1">0 Seleccionados</span>
                <span id="cart-total" class="text-2xl font-serif font-bold text-stone-900 tracking-tighter">Gs. 0</span>
            </div>
            <button onclick="sendBulkWa()" class="btn-wa text-white px-8 py-4 rounded-2xl text-[11px] font-black uppercase tracking-widest transition-all flex items-center gap-3 shadow-lg active:scale-95">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 1 1-7.6-14 8.38 8.38 0 0 1 3.8.9L21 3z"></path></svg>
                Pedir Lista
            </button>
        </div>
    </div>

    <script>
        const perfumes = [
            {
                id: 1,
                nombre: "Sillage No. 5",
                inspiracion: "Chanel No. 5",
                familia: "Floral AldehÃ­dico",
                precios: { "50ml": 85000, "100ml": 150000 },
                cat: "Damas",
                img: "https://images.unsplash.com/photo-1541643600914-78b084683601?w=600",
                descripcion: "Un Ã­cono eterno de sofisticaciÃ³n. Notas de aldehÃ­dos y neroli sobre jazmÃ­n y rosa de Grasse."
            },
            {
                id: 2,
                nombre: "Sillage Salvaje",
                inspiracion: "Sauvage de Dior",
                familia: "FougÃ¨re AromÃ¡tica",
                precios: { "50ml": 95000, "100ml": 170000 },
                cat: "Caballeros",
                img: "https://images.unsplash.com/photo-1594035910387-fea47794261f?w=600",
                descripcion: "Frescura extrema y nobleza. Bergamota de Calabria con una estela poderosamente amaderada."
            },
            {
                id: 3,
                nombre: "Sillage Imperial",
                inspiracion: "1 Million de Paco Rabanne",
                familia: "Amaderada Especiada",
                precios: { "50ml": 90000, "100ml": 160000 },
                cat: "Caballeros",
                img: "https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?w=600",
                descripcion: "El aroma del Ã©xito. Mandarina, canela intensa y cuero rubio. Un perfume magnÃ©tico."
            }
        ];

        let selected = {}; // { id_size: { id, size, qty } }
        let currentFilter = 'Todos';

        function formatGs(n) {
            return "Gs. " + n.toLocaleString('es-PY');
        }

        function toggleDetails(id, event) {
            event.stopPropagation();
            const content = document.getElementById(`desc-${id}`);
            content.classList.toggle('details-active');
        }

        function selectProduct(id, size) {
            const key = `${id}_${size}`;
            if (selected[key]) {
                delete selected[key];
            } else {
                selected[key] = { id, size, qty: 1 };
            }
            updateUI();
        }

        function adjustQty(key, delta, event) {
            event.stopPropagation();
            if (!selected[key]) return;
            selected[key].qty = Math.max(1, selected[key].qty + delta);
            updateUI();
        }

        function updateUI() {
            render();
            const bar = document.getElementById('cart-bar');
            const keys = Object.keys(selected);
            
            if (keys.length > 0) {
                bar.classList.remove('translate-y-full');
                let total = 0;
                let count = 0;
                keys.forEach(key => {
                    const item = selected[key];
                    const p = perfumes.find(p => p.id === item.id);
                    total += p.precios[item.size] * item.qty;
                    count += item.qty;
                });
                document.getElementById('cart-count').innerText = `${count} ÃTEMS SELECCIONADOS`;
                document.getElementById('cart-total').innerText = formatGs(total);
            } else {
                bar.classList.add('translate-y-full');
            }
        }

        function render() {
            const container = document.getElementById('catalog');
            container.innerHTML = '';
            
            const filtered = perfumes.filter(p => currentFilter === 'Todos' || p.cat === currentFilter);
            
            filtered.forEach(p => {
                const isSelected50 = !!selected[`${p.id}_50ml`];
                const isSelected100 = !!selected[`${p.id}_100ml`];
                const hasAnySelection = isSelected50 || isSelected100;

                container.innerHTML += `
                    <div class="bg-white rounded-[2.5rem] border-2 transition-all card-shadow overflow-hidden group ${hasAnySelection ? 'selected-card scale-[1.01]' : 'border-transparent'}">
                        <div class="flex flex-col sm:flex-row">
                            <!-- IMAGEN -->
                            <div class="w-full sm:w-56 h-64 sm:h-auto bg-stone-100 relative overflow-hidden flex-shrink-0">
                                <img src="${p.img}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                            </div>
                            
                            <!-- CONTENIDO -->
                            <div class="p-8 flex-grow flex flex-col justify-between">
                                <div>
                                    <span class="text-[10px] font-black text-amber-800 uppercase tracking-[0.2em]">${p.familia}</span>
                                    <h3 class="text-3xl font-serif font-bold text-stone-800 leading-none mb-3">${p.nombre}</h3>
                                    <p class="text-[11px] text-stone-400 font-bold italic mb-6">Inspirado en: ${p.inspiracion}</p>
                                    
                                    <!-- SELECTORES DE TAMAÃ‘O -->
                                    <div class="flex flex-wrap gap-4 mb-6">
                                        <div class="flex flex-col gap-2">
                                            <button onclick="selectProduct(${p.id}, '50ml')" class="size-btn px-4 py-2 rounded-xl border text-[11px] font-bold ${isSelected50 ? 'active' : 'border-stone-200 text-stone-500 bg-white'}">50ml - ${formatGs(p.precios['50ml'])}</button>
                                            ${isSelected50 ? `
                                                <div class="flex items-center justify-center gap-3 bg-stone-50 rounded-lg p-1 border">
                                                    <button onclick="adjustQty('${p.id}_50ml', -1, event)" class="w-6 h-6 text-stone-400 font-bold">-</button>
                                                    <span class="text-xs font-black">${selected[`${p.id}_50ml`].qty}</span>
                                                    <button onclick="adjustQty('${p.id}_50ml', 1, event)" class="w-6 h-6 text-stone-400 font-bold">+</button>
                                                </div>
                                            ` : ''}
                                        </div>
                                        <div class="flex flex-col gap-2">
                                            <button onclick="selectProduct(${p.id}, '100ml')" class="size-btn px-4 py-2 rounded-xl border text-[11px] font-bold ${isSelected100 ? 'active' : 'border-stone-200 text-stone-500 bg-white'}">100ml - ${formatGs(p.precios['100ml'])}</button>
                                            ${isSelected100 ? `
                                                <div class="flex items-center justify-center gap-3 bg-stone-50 rounded-lg p-1 border">
                                                    <button onclick="adjustQty('${p.id}_100ml', -1, event)" class="w-6 h-6 text-stone-400 font-bold">-</button>
                                                    <span class="text-xs font-black">${selected[`${p.id}_100ml`].qty}</span>
                                                    <button onclick="adjustQty('${p.id}_100ml', 1, event)" class="w-6 h-6 text-stone-400 font-bold">+</button>
                                                </div>
                                            ` : ''}
                                        </div>
                                    </div>
                                </div>

                                <button onclick="toggleDetails(${p.id}, event)" class="text-[10px] font-bold text-stone-400 uppercase flex items-center gap-2 hover:text-amber-900 transition-colors">
                                    Notas olfativas â†“
                                </button>
                            </div>
                        </div>

                        <div id="desc-${p.id}" class="details-content bg-[#FAF9F6] px-8 border-t border-stone-100">
                            <p class="text-[13px] text-stone-600 leading-relaxed italic font-medium">"${p.descripcion}"</p>
                        </div>
                    </div>
                `;
            });
        }

        function filter(cat) {
            currentFilter = cat;
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('bg-stone-900', 'text-white', 'shadow-md');
                btn.classList.add('bg-white', 'text-stone-400', 'border-stone-200');
            });
            const activeBtn = document.getElementById(`filter-${cat}`);
            activeBtn.classList.add('bg-stone-900', 'text-white', 'shadow-md');
            activeBtn.classList.remove('bg-white', 'text-stone-400', 'border-stone-200');
            render();
        }

        function sendBulkWa() {
            let message = "Â¡Hola Sillage! ðŸ‡µðŸ‡¾ Me interesa este pedido:\n\n";
            let total = 0;
            Object.keys(selected).forEach(key => {
                const item = selected[key];
                const p = perfumes.find(p => p.id === item.id);
                const subtotal = p.precios[item.size] * item.qty;
                message += `â€¢ ${item.qty}x ${p.nombre} [${item.size}] (Insp. ${p.inspiracion}) - ${formatGs(subtotal)}\n`;
                total += subtotal;
            });
            message += `\nTotal Estimado: ${formatGs(total)}\n\nÂ¿Tienen disponibilidad? Â¡Gracias!`;
            
            const tel = "595981000000"; // Cambiar por tu nÃºmero
            window.open(`https://wa.me/${tel}?text=${encodeURIComponent(message)}`, '_blank');
        }

        render();
    </script>
</body>
</html>
